<!DOCTYPE html><html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.webmanifest">
<title>Virtus Shot Tracker</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  color:white;
  background: radial-gradient(circle at center, #0a3d1f, #001a0d);
}
.container { padding:20px; }
h1 { text-align:center; }
.card {
  background:rgba(0,0,0,0.4);
  padding:15px;
  border-radius:10px;
  margin-bottom:20px;
}
input, select, button {
  width:100%;
  padding:8px;
  margin:5px 0;
  border-radius:5px;
  border:none;
}
button {
  background:#1e8239;
  color:white;
  font-weight:bold;
}
canvas {
  background:white;
  border-radius:10px;
}
</style>
</head>
<body>
<div class="container">
<h1>Virtus Shot Tracker</h1><div class="card">
<label>Data:</label>
<input type="date" id="date"><label>Fondo sx:</label>
<input id="fsx" type="number">

<label>45° sx:</label>
<input id="45sx" type="number">

<label>Frontale:</label>
<input id="front" type="number">

<label>45° dx:</label>
<input id="45dx" type="number">

<label>Fondo dx:</label>
<input id="fdx" type="number">

<button onclick="addSession()">Aggiungi sessione</button>

</div><div class="card">
<h3>Statistiche totali</h3>
<p id="stats"></p>
</div><div class="card">
<canvas id="chart"></canvas>
</div>
</div><script>
let sessions = JSON.parse(localStorage.getItem("sessions")) || [];

function addSession() {
  let data = {
    date: document.getElementById("date").value,
    fsx: +document.getElementById("fsx").value,
    s45: +document.getElementById("45sx").value,
    front: +document.getElementById("front").value,
    d45: +document.getElementById("45dx").value,
    fdx: +document.getElementById("fdx").value
  };
  sessions.push(data);
  localStorage.setItem("sessions", JSON.stringify(sessions));
  updateStats();
  drawChart();
}

function updateStats() {
  let total = 0;
  sessions.forEach(s => {
    total += s.fsx + s.s45 + s.front + s.d45 + s.fdx;
  });
  document.getElementById("stats").innerText =
    "Sessioni: " + sessions.length + " | Canestri totali: " + total;
}

function drawChart() {
  let labels = sessions.map(s => s.date);
  let values = sessions.map(s => s.fsx + s.s45 + s.front + s.d45 + s.fdx);

  let ctx = document.getElementById("chart");
  new Chart(ctx, {
    type: "line",
    data: {
      labels: labels,
      datasets: [{
        label: "Canestri per sessione",
        data: values
      }]
    }
  });
}

updateStats();
drawChart();
</script></body>
</html>
